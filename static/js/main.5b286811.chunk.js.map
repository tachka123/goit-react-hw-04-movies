{"version":3,"sources":["views/views.module.css","components/Nav/nav.module.css","components/MovieItem/movieItem.module.css","components/ItemsList/items.module.css","components/Nav/Nav.jsx","api/api.js","components/ItemsList/Item.jsx","components/ItemsList/ItemsList.jsx","views/Home.jsx","components/CastAndReviews/Cast.jsx","components/CastAndReviews/Reviews.jsx","components/MovieItem/MovieItem.jsx","views/MovieDetailsPage.jsx","views/MoviesPage.jsx","components/App.jsx","index.jsx"],"names":["module","exports","Nav","className","style","nav","exact","to","activeClassName","activeLink","API_KEY","getPopular","a","axios","get","results","data","getBySearch","search","getById","id","getReviews","getCast","Item","prop","original_title","pathname","item","ItemsList","state","itemsList","this","props","setState","update","result","prevProp","map","key","Component","Home","homePage","Сast","cast","length","character","cast_id","profile_path","src","alt","Reviews","author","content","MovieItem","match","url","params","poster_path","overview","movieId","Style","h2","mainInfo","type","path","render","Cast","MovieDetailsPage","MoviesPage","change","itemToFind","onChange","e","target","value","onSubmit","preventDefault","history","location","push","slice","indexOf","placeholder","App","activeStyle","color","component","HomePage","Movie","MovieSearch","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5b286811.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"views_homePage__3TTSz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__1535i\",\"activeLink\":\"nav_activeLink__1qrcS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"movieItem_item__M-N1T\",\"h2\":\"movieItem_h2__1rGlC\",\"mainInfo\":\"movieItem_mainInfo__328p_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"items_item__1dEp5\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport style from './nav.module.css';\n\nconst Nav = () => {\n  return (\n    <div className={style.nav}>\n      <NavLink exact to=\"/\" activeClassName={style.activeLink}>\n        Home\n      </NavLink>\n      <NavLink to=\"/movies\" activeClassName={style.activeLink}>\n        Movie List\n      </NavLink>\n    </div>\n  );\n};\n\nexport default Nav;\n","import axios from 'axios';\n\nconst API_KEY = 'api_key=37fb2304dd695f53d243740619b61ce9';\n\nexport async function getPopular() {\n  const {\n    data: { results },\n  } = await axios.get(\n    `https://api.themoviedb.org/3/movie/popular?${API_KEY}&language=en-US&page=1`,\n  );\n  return results;\n}\n\nexport async function getBySearch(search) {\n  const {\n    data: { results },\n  } = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${search}&${API_KEY}`,\n  );\n  return results;\n}\n\nexport async function getById(id) {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?${API_KEY}&language=en-US`,\n  );\n  return data;\n}\n\nexport async function getReviews(id) {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?${API_KEY}&language=en-US&page=1`,\n  );\n  return data;\n}\n\nexport async function getCast(id) {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?${API_KEY}`,\n  );\n  return data;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport T from 'prop-types';\nimport style from './items.module.css';\n\nconst Item = ({ prop }) => {\n  const { original_title, id } = prop;\n  return (\n    <Link\n      to={{\n        pathname: `movies/${id}`,\n      }}\n    >\n      <li className={style.item}>{original_title}</li>\n    </Link>\n  );\n};\n\nItem.propTypes = {\n  prop: T.shape({\n    original_title: T.string,\n    id: T.number,\n  }).isRequired,\n};\n\nexport default Item;\n","import React, { Component } from 'react';\nimport { getPopular, getBySearch } from '../../api/api';\nimport Item from './Item';\n\nclass ItemsList extends Component {\n  state = {\n    itemsList: [],\n    item: '',\n  };\n\n  async componentDidMount() {\n    const { item } = this.props;\n    if (item) {\n      this.setState({ item });\n      this.update();\n    } else {\n      const result = await getPopular();\n      this.setState({ itemsList: [...result] });\n    }\n  }\n\n  componentDidUpdate(prevProp) {\n    const { item } = this.props;\n    if (prevProp.item !== item) this.update();\n  }\n\n  async update() {\n    const { item } = this.props;\n    const result = await getBySearch(item);\n    this.setState({ itemsList: [...result] });\n  }\n\n  render() {\n    const { itemsList } = this.state;\n    return (\n      <ul>\n        {itemsList.map(item => (\n          <Item key={item.id} prop={item} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ItemsList;\n","import React from 'react';\nimport style from './views.module.css';\nimport ItemList from '../components/ItemsList/ItemsList';\n\nconst Home = () => {\n  return (\n    <div className={style.homePage}>\n      <h1>Trending today</h1>\n      <ItemList />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { getCast } from '../../api/api';\n\nclass Сast extends Component {\n  state = {\n    cast: [],\n  };\n\n  async componentDidMount() {\n    const { cast } = await getCast(this.props.id);\n    this.setState({ cast });\n  }\n\n  render() {\n    const { cast } = this.state;\n    return (\n      <ul>\n        {cast.length > 0 ? (\n          cast.map(({ character, cast_id, profile_path }) => (\n            <li key={cast_id}>\n              <br />\n              <img\n                src={`http://image.tmdb.org/t/p/w200/${profile_path}`}\n                alt=\"\"\n              />\n              <br />\n              {character}\n              <br />\n            </li>\n          ))\n        ) : (\n          <span>There no info about casts</span>\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default Сast;\n","import React, { Component } from 'react';\nimport { getReviews } from '../../api/api';\n\nclass Reviews extends Component {\n  state = {\n    results: [],\n  };\n\n  async componentDidMount() {\n    const { results } = await getReviews(this.props.id);\n    this.setState({ results });\n  }\n\n  render() {\n    const { results } = this.state;\n    return (\n      <ul>\n        {results.length > 0 ? (\n          results.map(({ author, content, id }) => (\n            <li key={id}>\n              {author} <br /> <span>{content}</span>\n            </li>\n          ))\n        ) : (\n          <span>There no Reviews</span>\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default Reviews;\n","import React from 'react';\nimport { Switch, Route, Link } from 'react-router-dom';\nimport T from 'prop-types';\nimport Style from './movieItem.module.css';\nimport Cast from '../CastAndReviews/Cast';\nimport Reviews from '../CastAndReviews/Reviews';\n\nconst MovieItem = ({\n  match: { url, params },\n  result: { poster_path, original_title, overview, id },\n}) => {\n  const { movieId } = params;\n  return (\n    <div className={Style.item}>\n      <h2 className={Style.h2}>{original_title}</h2>\n      <img src={`http://image.tmdb.org/t/p/w200/${poster_path}`} alt=\"\" />\n      <span className={Style.mainInfo}>{overview}</span>\n      <div>Additional information</div>\n      <Link to={`${url}/reviews`}>\n        <button type=\"button\">Reviews</button>\n      </Link>\n      <Link to={`${url}/cast`}>\n        <button type=\"button\">Cast</button>\n      </Link>\n      <Switch>\n        <Route exact path={`${url}`} />\n        <Route\n          path={`${url}/cast`}\n          render={props => <Cast {...props} id={movieId} />}\n        />\n        <Route\n          path={`${url}/reviews`}\n          render={props => <Reviews {...props} id={movieId} />}\n        />\n      </Switch>\n    </div>\n  );\n};\n\nMovieItem.propTypes = {\n  match: T.shape({ url: T.string, params: T.shape({ movieId: T.string }) })\n    .isRequired,\n  result: T.shape({\n    poster_path: T.string,\n    original_title: T.string,\n    overview: T.string,\n  }).isRequired,\n};\n\nexport default MovieItem;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport { getById } from '../api/api';\nimport MovieItem from '../components/MovieItem/MovieItem';\n\nclass MovieDetailsPage extends Component {\n  static propTypes = {\n    match: T.shape({\n      params: T.shape({\n        movieId: T.string,\n      }),\n      url: T.string,\n    }).isRequired,\n  };\n\n  state = {\n    result: {},\n  };\n\n  async componentDidMount() {\n    const { movieId } = this.props.match.params;\n    const result = await getById(movieId);\n    this.setState({ result });\n  }\n\n  render() {\n    const { result } = this.state;\n    const { match } = this.props;\n    return <MovieItem match={match} result={result} />;\n  }\n}\n\nexport default MovieDetailsPage;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport ItemList from '../components/ItemsList/ItemsList';\nimport Style from './views.module.css';\n\nclass MoviesPage extends Component {\n  static propTypes = {\n    location: T.shape({ search: T.string }).isRequired,\n    history: T.shape({ push: T.func }).isRequired,\n  };\n\n  state = {\n    change: '',\n    itemToFind: null,\n  };\n\n  componentDidMount() {\n    const {\n      location: { search },\n    } = this.props;\n    if (search) {\n      this.setState({\n        itemToFind: search.slice(search.indexOf('=') + 1, search.length),\n      });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ change: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    const { history, location } = this.props;\n    const { change, itemToFind } = this.state;\n    if (change === itemToFind || change === '') return;\n    this.setState({ itemToFind: change, change: '' });\n    history.push({ ...location, search: `?movie=${change}` });\n  };\n\n  render() {\n    const { itemToFind, change } = this.state;\n\n    return (\n      <div className={Style.homePage}>\n        <form onSubmit={this.onSubmit}>\n          <input\n            onChange={this.onChange}\n            value={change}\n            placeholder=\"Enter film to find\"\n            type=\"text\"\n          />\n          <button type=\"submit\">Find</button>\n        </form>\n        {itemToFind && <ItemList item={itemToFind} />}\n      </div>\n    );\n  }\n}\n\nexport default MoviesPage;\n","import React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Nav from './Nav/Nav';\nimport HomePage from '../views/Home';\nimport Movie from '../views/MovieDetailsPage';\nimport MovieSearch from '../views/MoviesPage';\nimport './variables.css';\n\nclass App extends Component {\n  state = {};\n\n  activeStyle = { color: 'green' };\n\n  render() {\n    return (\n      <div>\n        <Nav />\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/movies/:movieId\" component={Movie} />\n          <Route path=\"/movies/\" component={MovieSearch} />\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}