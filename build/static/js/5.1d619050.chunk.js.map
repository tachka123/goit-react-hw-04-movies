{"version":3,"sources":["api/api.js","views/views.module.css","components/ItemsList/items.module.css","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/ItemsList/Item.jsx","components/ItemsList/ItemsList.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","views/MoviesPage.jsx"],"names":["API_KEY","getPopular","a","axios","get","results","data","getBySearch","search","getById","id","getReviews","getCast","module","exports","_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","Item","prop","original_title","to","pathname","className","style","item","ItemsList","state","itemsList","this","props","setState","update","result","prevProp","map","key","Component","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","MoviesPage","change","itemToFind","onChange","e","target","onSubmit","preventDefault","history","location","push","slice","indexOf","Style","homePage","placeholder","type"],"mappings":"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","file":"static/js/5.1d619050.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'api_key=37fb2304dd695f53d243740619b61ce9';\n\nexport async function getPopular() {\n  const {\n    data: { results },\n  } = await axios.get(\n    `https://api.themoviedb.org/3/movie/popular?${API_KEY}&language=en-US&page=1`,\n  );\n  return results;\n}\n\nexport async function getBySearch(search) {\n  const {\n    data: { results },\n  } = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?query=${search}&${API_KEY}`,\n  );\n  return results;\n}\n\nexport async function getById(id) {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?${API_KEY}&language=en-US`,\n  );\n  return data;\n}\n\nexport async function getReviews(id) {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?${API_KEY}&language=en-US&page=1`,\n  );\n  return data;\n}\n\nexport async function getCast(id) {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?${API_KEY}`,\n  );\n  return data;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"views_homePage__3TTSz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"items_item__1dEp5\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport T from 'prop-types';\nimport style from './items.module.css';\n\nconst Item = ({ prop }) => {\n  const { original_title, id } = prop;\n  return (\n    <Link\n      to={{\n        pathname: `movies/${id}`,\n      }}\n    >\n      <li className={style.item}>{original_title}</li>\n    </Link>\n  );\n};\n\nItem.propTypes = {\n  prop: T.shape({\n    original_title: T.string,\n    id: T.number,\n  }).isRequired,\n};\n\nexport default Item;\n","import React, { Component } from 'react';\nimport { getPopular, getBySearch } from '../../api/api';\nimport Item from './Item';\n\nclass ItemsList extends Component {\n  state = {\n    itemsList: [],\n    item: '',\n  };\n\n  async componentDidMount() {\n    const { item } = this.props;\n    if (item) {\n      this.setState({ item });\n      this.update();\n    } else {\n      const result = await getPopular();\n      this.setState({ itemsList: [...result] });\n    }\n  }\n\n  componentDidUpdate(prevProp) {\n    const { item } = this.props;\n    if (prevProp.item !== item) this.update();\n  }\n\n  async update() {\n    const { item } = this.props;\n    const result = await getBySearch(item);\n    this.setState({ itemsList: [...result] });\n  }\n\n  render() {\n    const { itemsList } = this.state;\n    return (\n      <ul>\n        {itemsList.map(item => (\n          <Item key={item.id} prop={item} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ItemsList;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport ItemList from '../components/ItemsList/ItemsList';\nimport Style from './views.module.css';\n\nclass MoviesPage extends Component {\n  static propTypes = {\n    location: T.shape({ search: T.string }).isRequired,\n    history: T.shape({ push: T.func }).isRequired,\n  };\n\n  state = {\n    change: '',\n    itemToFind: null,\n  };\n\n  componentDidMount() {\n    const {\n      location: { search },\n    } = this.props;\n    if (search) {\n      this.setState({\n        itemToFind: search.slice(search.indexOf('=') + 1, search.length),\n      });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ change: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    const { history, location } = this.props;\n    const { change, itemToFind } = this.state;\n    if (change === itemToFind || change === '') return;\n    this.setState({ itemToFind: change, change: '' });\n    history.push({ ...location, search: `?movie=${change}` });\n  };\n\n  render() {\n    const { itemToFind, change } = this.state;\n\n    return (\n      <div className={Style.homePage}>\n        <form onSubmit={this.onSubmit}>\n          <input\n            onChange={this.onChange}\n            value={change}\n            placeholder=\"Enter film to find\"\n            type=\"text\"\n          />\n          <button type=\"submit\">Find</button>\n        </form>\n        {itemToFind && <ItemList item={itemToFind} />}\n      </div>\n    );\n  }\n}\n\nexport default MoviesPage;\n"],"sourceRoot":""}